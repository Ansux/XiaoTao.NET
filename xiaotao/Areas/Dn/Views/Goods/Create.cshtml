@model xiaotao.Models.dn_goods

@{
   ViewBag.Title = "Create";
}

<h2>Create</h2>

@using (Html.BeginForm(Html.BeginForm("create", "Goods", FormMethod.Post, new { enctype = "multipart/form-data" })))
{
   @Html.AntiForgeryToken()
   <div class="form-horizontal">
      <hr />
      @Html.ValidationSummary(true, "", new { @class = "text-danger" })
      <div class="form-group">
         @Html.LabelFor(model => model.name, htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @Html.EditorFor(model => model.name, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.name, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group">
         @Html.LabelFor(model => model.ori_img, htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @Html.EditorFor(model => model.ori_img, new { htmlAttributes = new { @type = "file", @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.ori_img, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group">
         <div class="col-md-offset-2 col-md-10">
            <div class="checkbox">
               @Html.EditorFor(model => model.is_anonymous) 是否匿名
               @Html.ValidationMessageFor(model => model.is_anonymous, "", new { @class = "text-danger" })
            </div>
         </div>
      </div>

      <div class="form-group">
         @Html.LabelFor(model => model.claim_type, htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @*Html.EditorFor(model => model.claim_type, new { htmlAttributes = new { @class = "form-control" } })*@
            <select id="claim_type" name="claim_type" class="form-control">
               <option value="1">捐赠中心站</option>
               <option value="2">自行认领</option>
            </select>
            @Html.ValidationMessageFor(model => model.claim_type, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group" id="claim_addr" style="display:none;">
         @Html.LabelFor(model => model.claim_addr, htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @Html.EditorFor(model => model.claim_addr, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.claim_addr, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group">
         @Html.LabelFor(model => model.category, "分类", htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @Html.DropDownList("category", null, htmlAttributes: new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.category, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group">
         @Html.LabelFor(model => model.detail, htmlAttributes: new { @class = "control-label col-md-2" })
         <div class="col-md-10">
            @Html.EditorFor(model => model.detail, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.detail, "", new { @class = "text-danger" })
         </div>
      </div>

      <div class="form-group">
         <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Create" class="btn btn-default" />
         </div>
      </div>
   </div>
}

<div>
   @Html.ActionLink("Back to List", "Index")
</div>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script>
   $('#claim_type').change(function () {
      if ($(this).val() == 2) {
         $('#claim_addr').show();
      } else {
         $('#claim_addr').hide();
      }
   });
</script>
